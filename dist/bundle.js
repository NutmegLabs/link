!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LinkTool=t():e.LinkTool=t()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=6)}([function(e,t,i){e.exports=i(7)},function(e,t){function i(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,l,"next",e)}function l(e){i(s,r,o,a,l,"throw",e)}a(void 0)}))}}},function(e,t){e.exports='<svg width="13" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M8.567 13.629c.728.464 1.581.65 2.41.558l-.873.873A3.722 3.722 0 1 1 4.84 9.794L6.694 7.94a3.722 3.722 0 0 1 5.256-.008L10.484 9.4a5.209 5.209 0 0 1-.017.016 1.625 1.625 0 0 0-2.29.009l-1.854 1.854a1.626 1.626 0 0 0 2.244 2.35zm2.766-7.358a3.722 3.722 0 0 0-2.41-.558l.873-.873a3.722 3.722 0 1 1 5.264 5.266l-1.854 1.854a3.722 3.722 0 0 1-5.256.008L9.416 10.5a5.2 5.2 0 0 1 .017-.016 1.625 1.625 0 0 0 2.29-.009l1.854-1.854a1.626 1.626 0 0 0-2.244-2.35z" transform="translate(-3.667 -2.7)"></path></svg>'},function(e,t,i){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";(function(e){var n=i(2),r=setTimeout;function o(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void c(t.promise,e)}l(t.promise,n)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof i)return void u((n=i,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}var n,r}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)a(e,e._deferreds[t]);e._deferreds=null}function h(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e((function(e){i||(i=!0,l(t,e))}),(function(e){i||(i=!0,c(t,e))}))}catch(e){if(i)return;i=!0,c(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var i=new this.constructor(o);return a(this,new h(e,t,i)),i},s.prototype.finally=n.a,s.all=function(e){return new s((function(t,i){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var r=n.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),i)}n[e]=s,0==--r&&t(n)}catch(e){i(e)}}for(var s=0;s<n.length;s++)o(s,n[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,i){i(e)}))},s.race=function(e){return new s((function(t,i){for(var n=0,r=e.length;n<r;n++)e[n].then(t,i)}))},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=s}).call(this,i(5).setImmediate)},function(e,t,i){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(4);var r,o,s,a,l,c,d=i(8),h=(o=function(e){return new Promise((function(t,i){e=a(e),e=l(e);var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");n.open(e.method,e.url),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach((function(t){var i=e.headers[t];n.setRequestHeader(t,i)}));var r=e.ratio;n.upload.addEventListener("progress",(function(t){var i=Math.round(t.loaded/t.total*100),n=Math.ceil(i*r/100);e.progress(n)}),!1),n.addEventListener("progress",(function(t){var i=Math.round(t.loaded/t.total*100),n=Math.ceil(i*(100-r)/100)+r;e.progress(n)}),!1),n.onreadystatechange=function(){if(4===n.readyState){var e=n.response;try{e=JSON.parse(e)}catch(e){}var r=d.parseHeaders(n.getAllResponseHeaders()),o={body:e,code:n.status,headers:r};200===n.status?t(o):i(o)}},n.send(e.data)}))},s=function(e){return e.method="POST",o(e)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==n(e.headers))throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(r).includes(e.type)))throw new Error("`type` must be taken from module's «contentType» library");if(e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},l=function(e){switch(e.method){case"GET":var t=c(e.data,r.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var i=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||r.JSON}(e);(d.isFormData(e.data)||d.isFormElement(e.data))&&(i=r.FORM),e.data=c(e.data,i),i!==h.contentType.FORM&&(e.headers["content-type"]=i)}return e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return d.urlEncode(e);case r.JSON:return d.jsonEncode(e);case r.FORM:return d.formEncode(e);default:return e}},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:o,get:function(e){return e.method="GET",o(e)},post:s,transport:function(e){return e=a(e),d.selectFiles(e).then((function(t){for(var i=new FormData,n=0;n<t.length;n++)i.append(e.fieldName,t[n],t[n].name);return d.isObject(e.data)&&Object.keys(e.data).forEach((function(t){var n=e.data[t];i.append(t,n)})),e.beforeSend&&e.beforeSend(t),e.data=i,s(e)}))},selectFiles:function(e){return delete(e=a(e)).beforeSend,d.selectFiles(e)}});e.exports=h},function(e,t,i){"use strict";i.r(t);var n=i(1);window.Promise=window.Promise||n.a},function(e,t,i){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r,o,s,a,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){m(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&m(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},n=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(m,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return c[l]=r,n(l),l++},u.clearImmediate=p}function p(e){delete c[e]}function m(e){if(d)setTimeout(m,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{p(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(0),i(7))},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=a(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||d||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=i(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"urlEncode",value:function(e){return r(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach((function(i){var n=e[i];t.append(i,n)})),t}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,i){var n=document.createElement("INPUT");n.type="file",e.multiple&&n.setAttribute("multiple","multiple"),e.accept&&n.setAttribute("accept",e.accept),n.style.display="none",document.body.appendChild(n),n.addEventListener("change",(function(e){var i=e.target.files;t(i),document.body.removeChild(n)}),!1),n.click()}))}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),i={};return t.forEach((function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");n&&(i[n]=r)})),i}}])&&n(t,i),e}()},function(e,t){var i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(e,t,r,o){return t=t||null,r=r||"&",o=o||null,e?function(e){for(var t=new Array,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t}(Object.keys(e).map((function(s){var a,l,c=s;if(o&&(c=o+"["+c+"]"),"object"==typeof e[s]&&null!==e[s])a=n(e[s],null,r,c);else{t&&(l=c,c=!isNaN(parseFloat(l))&&isFinite(l)?t+Number(c):c);var d=e[s];d=(d=0===(d=!1===(d=!0===d?"1":d)?"0":d)?"0":d)||"",a=i(c)+"="+i(d)}return a}))).join(r).replace(/[!'()*]/g,""):""};e.exports=n}])},function(e,t){e.exports="data:image/svg+xml,%3csvg id='レイヤー_1' data-name='レイヤー 1' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3e %3ctitle%3eic_star_on%3c/title%3e %3crect width='32' height='32' fill='none'/%3e %3cpath id='多角形_4' data-name='多角形 4' d='M16.91,2l3.89,8.7L30,12a1,1,0,0,1,.57,1.71l-6.77,6.68,1.73,9.53A1,1,0,0,1,24,30.92l-8-4.64L8,30.92A1,1,0,0,1,6.5,29.87l1.73-9.53L1.46,13.66A1,1,0,0,1,2,12l9.17-1.21L15.09,2A1,1,0,0,1,16.91,2Z' fill='%23ffb300'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg id='レイヤー_1' data-name='レイヤー 1' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3e %3ctitle%3eic_star_off%3c/title%3e %3crect width='32' height='32' fill='none'/%3e %3cpath id='多角形_4' data-name='多角形 4' d='M16.91,2l3.89,8.7L30,12a1,1,0,0,1,.57,1.71l-6.77,6.68,1.73,9.53A1,1,0,0,1,24,30.92l-8-4.64L8,30.92A1,1,0,0,1,6.5,29.87l1.73-9.53L1.46,13.66A1,1,0,0,1,2,12l9.17-1.21L15.09,2A1,1,0,0,1,16.91,2Z' fill='%23ddd'/%3e %3c/svg%3e"},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return _}));var n=i(0),r=i.n(n),o=i(1),s=i.n(o),a=(i(8),i(2)),l=i.n(a),c=i(3),d=i.n(c),h=(i(12),i(4)),u=i.n(h),p=i(5),m=i.n(p);class _{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:l.a,title:"Link"}}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:i,readOnly:n}){this.api=i,this.readOnly=n,this.config={endpoint:t.endpoint||"",headers:t.headers||{},apikey:t.apikey||"",language:t.language||"",attribution:t.attribution||{},supplierName:t.supplierName||"",seeMoreText:t.seeMoreText||"",showLessText:t.showLessText||"",participationDateText:t.participationDateText||"",writtenDateText:t.writtenDateText||""},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,anchor:null,bodyHolder:null,linkImage:null,linkTitle:null,linkDescription:null,textArrow:null,bodyInfo:null,infoWeek:null,infoPrice:null},this.isReview=!1,this.reviewNodes={itemTop:null,itemTopReview:null,itemTopReviewStars:null,itemTopReviewNum:null,itemTopInfo:null,itemTopInfoDate:null,itemTopInfoType:null,itemTtl:null,itemMessage:null,itemMore:null,itemPic:null,itemPicList:null,itemPicPrev:null,itemPicNext:null,itemUser:null,itemUserIc:null,itemUserInfo:null,itemUserInfoName:null,itemUserInfoDate:null,itemReply:null,itemReplyTtl:null,itemReplyBox:null,itemReplyMessage:null,itemReplyMore:null,itemMoreButton:null,itemReplyMoreButton:null},this.imageLoad=null,this.regex=new RegExp(/https?:\/\/((api(.dev)?(.stg)?.ntmg.com)|(localhost:3007))\/v1\/reviews\/([^/?&"]+)/),this.head={},this.pic=[],this.bound=0,this.itemWidth=0,this.maxWidth=0,this.totalRight=0,this.visibleRight=0,this.visibleWidth=0,this.remainWidth=0,this.isMore=!1,this.isReplyMore=!1,this.moreText="See More",this.moreCloseText="Show Less",this.participationDateText="Participation Date",this.writtenDateText="Posted Date",this._data={link:"",meta:{}},this.data=e}render(){return console.log("test 6"),this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),this.nodes.reviewContent=this.prepareReviewPreview(),Object.keys(this.data.meta).length?this.regex.test(this.data.link)?(this.nodes.container.appendChild(this.nodes.reviewContent),this.showReviewPreview(this.data.meta)):(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}save(){return this.data}validate(){return""!==this.data.link.trim()}set data(e){this._data=Object.assign({},{link:e.link||this._data.link,meta:e.meta||this._data.meta})}get data(){return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"c-itemCard__item",linkImage:"c-itemCard__item__pic",body:"c-itemCard__item__body",linkTitle:"c-itemCard__item__body__ttl",linkDescription:"c-itemCard__item__body__desc",textArrow:"c-itemCard__item__arrow",bodyInfo:"c-itemCard__item__body__info",infoWeek:"c-itemCard__item__body__info__week",infoPrice:"c-itemCard__item__body__info__price",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded",reviewLinkContent:"c-review__list__comment__item",reviewItemTop:"c-review__list__comment__item__top",reviewItemTopReview:"c-review__list__comment__item__top__review",reviewItemTopReviewStars:"c-review__list__comment__item__top__review__stars",reviewItemTopReviewNum:"c-review__list__comment__item__top__review__num",reviewItemTopInfo:"c-review__list__comment__item__top__info",reviewItemTopInfoDate:"c-review__list__comment__item__top__info__date",reviewItemTopInfoType:"c-review__list__comment__item__top__info__type",reviewItemTtl:"c-review__list__comment__item__ttl",reviewItemMessage:"c-review__list__comment__item__message",reviewItemMore:"c-review__list__comment__item__more",reviewItemPic:"c-review__list__comment__item__pic",reviewItemPicList:"c-review__list__comment__item__pic__list",reviewItemPicPrev:"c-review__list__comment__item__pic__prev",reviewItemPicNext:"c-review__list__comment__item__pic__next",reviewItemUser:"c-review__list__comment__item__user",reviewItemUserIc:"c-review__list__comment__item__user__ic",reviewItemUserInfo:"c-review__list__comment__item__user__info",reviewItemUserInfoName:"c-review__list__comment__item__user__info__name",reviewItemUserInfoDate:"c-review__list__comment__item__user__info__date",reviewItemReply:"c-review__list__comment__item__reply",reviewItemReplyTtl:"c-review__list__comment__item__reply__ttl",reviewItemReplyBox:"c-review__list__comment__item__reply__box",reviewItemReplyMessage:"c-review__list__comment__item__reply__message",reviewItemReplyMore:"c-review__list__comment__item__reply__more"}}makeInputHolder(){const e=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||this.nodes.input.addEventListener("keydown",e=>{const t=e.ctrlKey||e.metaKey;switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this.startFetching(e);break;case 65:t&&this.selectLinkUrl(e)}}),e.appendChild(this.nodes.progress),e.appendChild(this.nodes.input),e}startFetching(e){let t=this.nodes.input.textContent;"paste"===e.type&&(t=(e.clipboardData||window.clipboardData).getData("text")),this.regex.test(t)&&(this.isReview=!0,this.head={accept:"application/json, text/plain, */*","accept-language":this.config.language,"x-api-key":this.config.apikey}),this.removeErrorStyle(),this.fetchLinkData(t)}removeErrorStyle(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}selectLinkUrl(e){e.preventDefault(),e.stopPropagation();const t=window.getSelection(),i=new Range,n=t.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));i.selectNodeContents(n),t.removeAllRanges(),t.addRange(i)}prepareLinkPreview(){const e=this.make("div",this.CSS.linkContent);return this.nodes.anchor=this.make("a",null,{target:"_blank",rel:"nofollow noindex noreferrer"}),e.appendChild(this.nodes.anchor),this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("h3",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.textArrow=this.make("i",this.CSS.textArrow,{style:"border-color:#0094CC;"}),e}prepareReviewPreview(){const e=this.make("div",this.CSS.reviewLinkContent);return this.reviewNodes.itemTop=this.make("div",this.CSS.reviewItemTop),this.reviewNodes.itemTopReview=this.make("div",this.CSS.reviewItemTopReview),this.reviewNodes.itemTopReviewStars=this.make("div",this.CSS.reviewItemTopReviewStars),this.reviewNodes.itemTopReviewNum=this.make("p",this.CSS.reviewItemTopReviewNum),this.reviewNodes.itemTopReview.appendChild(this.reviewNodes.itemTopReviewStars),this.reviewNodes.itemTopReview.appendChild(this.reviewNodes.itemTopReviewNum),this.reviewNodes.itemTopInfo=this.make("div",this.CSS.reviewItemTopInfo),this.reviewNodes.itemTopInfoDate=this.make("p",this.CSS.reviewItemTopInfoDate),this.reviewNodes.itemTopInfoType=this.make("p",this.CSS.reviewItemTopInfoType),this.reviewNodes.itemTopInfo.appendChild(this.reviewNodes.itemTopInfoDate),this.reviewNodes.itemTopInfo.appendChild(this.reviewNodes.itemTopInfoType),this.reviewNodes.itemTop.appendChild(this.reviewNodes.itemTopReview),this.reviewNodes.itemTop.appendChild(this.reviewNodes.itemTopInfo),this.reviewNodes.itemTtl=this.make("p",this.CSS.reviewItemTtl),this.reviewNodes.itemUser=this.make("div",this.CSS.reviewItemUser),this.reviewNodes.itemUserIc=this.make("p",this.CSS.reviewItemUserIc),this.reviewNodes.itemUserInfo=this.make("p",this.CSS.reviewItemUserInfo),this.reviewNodes.itemUserInfoName=this.make("p",this.CSS.reviewItemUserInfoName),this.reviewNodes.itemUserInfoDate=this.make("p",this.CSS.reviewItemUserInfoDate),this.reviewNodes.itemUserInfo.appendChild(this.reviewNodes.itemUserInfoName),this.reviewNodes.itemUserInfo.appendChild(this.reviewNodes.itemUserInfoDate),this.reviewNodes.itemUser.appendChild(this.reviewNodes.itemUserIc),this.reviewNodes.itemUser.appendChild(this.reviewNodes.itemUserInfo),e}showLinkPreview(e){if(this.nodes.container.appendChild(this.nodes.linkContent),e.image){const t=this.make("img",null,{src:e.image});this.nodes.linkImage.appendChild(t),this.nodes.anchor.appendChild(this.nodes.linkImage)}this.nodes.bodyHolder=this.make("div",this.CSS.body),e.title&&(this.nodes.linkTitle.textContent=e.title,this.nodes.bodyHolder.appendChild(this.nodes.linkTitle)),e.description&&(this.nodes.linkDescription.textContent=e.description,this.nodes.bodyHolder.appendChild(this.nodes.linkDescription)),this.nodes.anchor.appendChild(this.nodes.bodyHolder),this.nodes.anchor.appendChild(this.nodes.textArrow),this.nodes.anchor.setAttribute("href",this.data.link),(e.lowest_price_gross||e.operating_days_of_week)&&(this.nodes.bodyInfo=this.make("div",this.CSS.bodyInfo),e.operating_days_of_week&&(this.nodes.infoWeek=this.make("p",this.CSS.infoWeek),this.nodes.infoWeek.textContent=e.operating_days_of_week,this.nodes.bodyInfo.appendChild(this.nodes.infoWeek)),e.lowest_price_gross&&(this.nodes.infoPrice=this.make("p",this.CSS.infoPrice,{style:"color:#0094CC"}),this.nodes.infoPrice.textContent=e.lowest_price_gross,this.nodes.bodyInfo.appendChild(this.nodes.infoPrice)),this.nodes.bodyHolder.appendChild(this.nodes.bodyInfo));try{new URL(this.data.link).hostname||console.error("can't get host name")}catch(e){this.nodes.linkText.textContent=this.data.link}}showReviewPreview(e){if(this.nodes.container.appendChild(this.nodes.reviewContent),e.guest_language&&(this.moreText=this.config.seeMoreText,this.moreCloseText=this.config.showLessText,this.participationDateText=this.config.participationDateText,this.writtenDateText=this.config.writtenDateText),e.rating){const t=e.rating.replace("REVIEW_RATING_","");for(let e=0;e<5;e++){let i;e<t?(i=this.make("img",null,{src:u.a}),this.reviewNodes.itemTopReviewStars.appendChild(i)):(i=this.make("img",null,{src:m.a}),this.reviewNodes.itemTopReviewStars.appendChild(i))}this.reviewNodes.itemTopReviewNum.textContent=t}if(e.participation_date_time_local&&(this.reviewNodes.itemTopInfoDate.textContent=this.participationDateText+":"+e.participation_date_time_local.substring(0,7)),e.attribution&&(this.reviewNodes.itemTopInfoType.textContent=this.config.attribution["".concat(e.attribution)]),e.title&&(this.reviewNodes.itemTtl.textContent=e.title),e.body&&(this.reviewNodes.itemMore=this.make("div",this.CSS.reviewItemMore),this.reviewNodes.itemMoreButton=this.make("a",null),this.reviewNodes.itemMoreButton.textContent=this.moreText,this.reviewNodes.itemMoreButton.addEventListener("click",()=>{this.toggleMore()}),this.reviewNodes.itemMore.appendChild(this.reviewNodes.itemMoreButton),this.reviewNodes.itemMessage=this.make("p",[this.CSS.reviewItemMessage,"newline"]),this.reviewNodes.itemMessage.textContent=e.body),0!==e.media_items.length&&(this.reviewNodes.itemPic=this.make("div",this.CSS.reviewItemPic),this.reviewNodes.itemPicList=this.make("ul",this.CSS.reviewItemPicList),this.reviewNodes.itemPicPrev=this.make("a",this.CSS.reviewItemPicPrev),this.reviewNodes.itemPicNext=this.make("a",this.CSS.reviewItemPicNext),this.reviewNodes.itemPic.appendChild(this.reviewNodes.itemPicList),this.reviewNodes.itemPic.appendChild(this.reviewNodes.itemPicPrev),this.reviewNodes.itemPic.appendChild(this.reviewNodes.itemPicNext),this.imageLoad=e=>new Promise(t=>{(e=>{console.log("start"),e.map(e=>{const t=this.make("li");t.addEventListener("click",()=>{this.showModal(e.url)});const i=this.make("img",null,{src:e.url});i.onload=()=>{console.log("collect ago"),(e=>{let t=0;console.log(t)})(),console.log("collect lator")},t.appendChild(i),this.reviewNodes.itemPicList.appendChild(t),this.pic.push(t)})})(e)})),e.guest_nickname&&(this.reviewNodes.itemUserIc.textContent=e.guest_nickname.substring(0,1),this.reviewNodes.itemUserInfoName.textContent=e.guest_nickname),e.written_date_time_utc){const t=new Date(e.written_date_time_utc);this.reviewNodes.itemUserInfoDate.textContent=this.writtenDateText+":"+t.getUTCFullYear()+"/"+t.getUTCMonth()+"/"+t.getUTCDate()}e.supplier_comments&&(this.reviewNodes.itemReply=this.make("div",this.CSS.reviewItemReply),this.reviewNodes.itemReplyTtl=this.make("p",this.CSS.reviewItemReplyTtl),this.reviewNodes.itemReplyBox=this.make("div",this.CSS.reviewItemReplyBox),this.reviewNodes.itemReplyMessage=this.make("p",[this.CSS.reviewItemReplyMessage,"newline"]),this.reviewNodes.itemReplyMore=this.make("p",this.CSS.reviewItemReplyMore),this.reviewNodes.itemReplyMoreButton=this.make("a",null),this.reviewNodes.itemReplyMoreButton.textContent=this.moreText,this.reviewNodes.itemReplyMoreButton.addEventListener("click",()=>{this.toggleReplyMore()}),this.reviewNodes.itemReplyMore.appendChild(this.reviewNodes.itemReplyMoreButton),this.reviewNodes.itemReplyBox.appendChild(this.reviewNodes.itemReplyMessage),this.reviewNodes.itemReply.appendChild(this.reviewNodes.itemReplyTtl),this.reviewNodes.itemReply.appendChild(this.reviewNodes.itemReplyBox),this.reviewNodes.itemReplyMessage.textContent=e.supplier_comments,this.reviewNodes.itemReplyTtl.textContent=this.config.supplierName),null==this.imageLoad?this.addReviewData(e):this.imageLoad(e.media_items).then(this.addReviewData(e));try{new URL(this.data.link).hostname||console.error("can't get host name")}catch(e){this.nodes.linkText.textContent=this.data.link}}addReviewData(e){this.nodes.reviewContent.appendChild(this.reviewNodes.itemTop),this.nodes.reviewContent.appendChild(this.reviewNodes.itemTtl),this.nodes.reviewContent.appendChild(this.reviewNodes.itemMessage),this.reviewNodes.itemMessage.scrollHeight>70&&(this.reviewNodes.itemMessage.classList.add("is-close"),this.nodes.reviewContent.appendChild(this.reviewNodes.itemMore)),0!==e.media_items.length&&(this.nodes.reviewContent.appendChild(this.reviewNodes.itemPic),this.itemWidth=this.pic[0].getBoundingClientRect().width+16,this.maxWidth=this.itemWidth*this.pic.length,this.totalRight=this.bound+this.reviewNodes.itemPicList.getBoundingClientRect().left+this.maxWidth+16,this.visibleRight=this.reviewNodes.itemPicList.getBoundingClientRect().right-16,this.visibleWidth=this.reviewNodes.itemPicList.getBoundingClientRect().right-this.reviewNodes.itemPicList.getBoundingClientRect().left-32,this.remainWidth=this.totalRight-this.visibleRight,this.reviewNodes.itemPicPrev.style="visibility: hidden;",console.log(this.pic),console.log(this.itemWidth),console.log(this.totalRight),console.log(this.visibleRight+16),this.totalRight<this.visibleRight+16&&(this.reviewNodes.itemPicNext.style="visibility: hidden;"),this.reviewNodes.itemPicPrev.addEventListener("click",()=>{this.slidePrev()}),this.reviewNodes.itemPicNext.addEventListener("click",()=>{this.slideNext()})),this.nodes.reviewContent.appendChild(this.reviewNodes.itemUser),e.supplier_comments&&(this.nodes.reviewContent.appendChild(this.reviewNodes.itemReply),this.reviewNodes.itemReplyMessage.scrollHeight>70&&(this.reviewNodes.itemReplyBox.appendChild(this.reviewNodes.itemReplyMore),this.reviewNodes.itemReplyMessage.classList.add("is-close")))}slideNext(){if(this.totalRight<=this.visibleRight)return;const e=Math.min(this.remainWidth,this.visibleWidth);this.bound=e==this.remainWidth?this.bound+e:Math.floor((this.bound+e)/this.itemWidth)*this.itemWidth,this.totalRight=-this.bound+this.reviewNodes.itemPicList.getBoundingClientRect().left+this.maxWidth+16,this.remainWidth=this.totalRight-this.visibleRight,this.totalRight<=this.visibleRight&&(this.reviewNodes.itemPicNext.style="visibility: hidden;"),this.bound>0&&this.reviewNodes.itemPicPrev.removeAttribute("style"),this.pic.map(e=>{e.style="transform: translateX("+-this.bound+"px);"})}slidePrev(){if(0===this.bound)return;const e=Math.min(this.bound,this.visibleWidth);this.bound=Math.floor((this.bound-e)/this.itemWidth)*this.itemWidth,this.totalRight=-this.bound+this.reviewNodes.itemPicList.getBoundingClientRect().left+this.maxWidth+16,this.remainWidth=this.totalRight-this.visibleRight,this.remainWidth>0&&this.reviewNodes.itemPicNext.removeAttribute("style"),this.pic.map(e=>{e.style="transform: translateX("+-this.bound+"px);"}),0===this.bound&&(this.reviewNodes.itemPicPrev.style="visibility: hidden;")}toggleMore(){if(this.isMore)return this.reviewNodes.itemMessage.classList.add("is-close"),this.reviewNodes.itemMoreButton.textContent=this.moreText,void(this.isMore=!1);this.reviewNodes.itemMessage.classList.remove("is-close"),this.reviewNodes.itemMoreButton.textContent=this.moreCloseText,this.isMore=!0}toggleReplyMore(){if(this.isReplyMore)return this.reviewNodes.itemReplyMessage.classList.add("is-close"),this.reviewNodes.itemReplyMoreButton.textContent=this.moreText,void(this.isReplyMore=!1);this.reviewNodes.itemReplyMessage.classList.remove("is-close"),this.reviewNodes.itemReplyMoreButton.textContent=this.moreCloseText,this.isReplyMore=!0}showModal(e){const t=this.make("div","c-reviewPicture__modal"),i=this.make("div","c-reviewPicture__modal__modal__content"),n=this.make("div","c-reviewPicture__modal__modal__content__pic"),r=this.make("img",null,{src:e});n.appendChild(r);const o=this.make("a","c-reviewPicture__modal__modal__content__close");o.addEventListener("click",()=>{document.getElementsByClassName("c-reviewPicture__modal")[0].remove()}),i.appendChild(n),i.appendChild(o),t.appendChild(i),this.nodes.reviewContent.appendChild(t)}showProgress(){this.nodes.progress.classList.add(this.CSS.progressLoading)}hideProgress(){return new Promise(e=>{this.nodes.progress.classList.remove(this.CSS.progressLoading),this.nodes.progress.classList.add(this.CSS.progressLoaded),setTimeout(e,500)})}applyErrorStyle(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}fetchLinkData(e){var t=this;return s()(r.a.mark((function i(){var n,o,s;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.showProgress(),t.data={link:e},i.prev=2,i.next=5,d.a.get({url:t.isReview?e:t.config.endpoint,headers:t.isReview?t.head:null,data:t.isReview?null:{url:e}});case 5:n=i.sent,o=n.body,s=n.code,t.onFetch(o,s),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(2),t.fetchingFailed(t.api.i18n.t("Couldn't fetch the link data"));case 14:case"end":return i.stop()}}),i,null,[[2,11]])})))()}onFetch(e,t){if(t>=400)return this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one")),void console.error(e);const i=e,n=e.link||this.data.link;this.data={meta:i,link:n},i?this.hideProgress().then(()=>{this.nodes.inputHolder.remove(),this.isReview?this.showReviewPreview(i):this.showLinkPreview(i)}):this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"))}fetchingFailed(e){this.api.notifier.show({message:e,style:"error"}),this.applyErrorStyle()}make(e,t=null,i={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in i)n[e]=i[e];return n}}},function(e,t,i){var n=function(e){"use strict";var t=Object.prototype,i=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,i,n){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),s=new x(n||[]);return o._invoke=function(e,t,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return C()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=g(s,i);if(a){if(a===c)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var d=l(e,t,i);if("normal"===d.type){if(n=i.done?"completed":"suspendedYield",d.arg===c)continue;return{value:d.arg,done:i.done}}"throw"===d.type&&(n="completed",i.method="throw",i.arg=d.arg)}}}(e,i,s),o}function l(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var c={};function d(){}function h(){}function u(){}var p={};p[r]=function(){return this};var m=Object.getPrototypeOf,_=m&&m(m(k([])));_&&_!==t&&i.call(_,r)&&(p=_);var f=u.prototype=d.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e,t){var n;this._invoke=function(r,o){function s(){return new t((function(n,s){!function n(r,o,s,a){var c=l(e[r],e,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==typeof h&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}(r,o,n,s)}))}return n=n?n.then(s,s):s()}}function g(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,c;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f.constructor=u,u.constructor=h,u[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},v(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var s=new w(a(t,i,n,r),o);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(f),f[s]="Generator",f[r]=function(){return this},f.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(i,n){return s.type="throw",s.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),b(i),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;b(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:k(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,i){var n=i(9),r=i(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},function(e,t,i){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),s=[];function a(e){for(var t=-1,i=0;i<s.length;i++)if(s[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},n=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var h=a(d),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:d,updater:f(u,t),references:1}),n.push(d)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,h=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=h(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function p(e,t,i){var n=i.css,r=i.media,o=i.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,_=0;function f(e,t){var i,n,r;if(t.singleton){var o=_++;i=m||(m=c(t)),n=u.bind(null,i,o,!1),r=u.bind(null,i,o,!0)}else i=c(t),n=p.bind(null,i,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var r=a(i[n]);s[r].references--}for(var o=l(e,t),c=0;c<i.length;c++){var d=a(i[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}i=o}}}},function(e,t,i){(t=i(11)(!1)).push([e.i,".link-tool {\n  position: relative;\n}\n\n  .link-tool__input {\n    padding-left: 38px;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='13' height='14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.567 13.629c.728.464 1.581.65 2.41.558l-.873.873A3.722 3.722 0 1 1 4.84 9.794L6.694 7.94a3.722 3.722 0 0 1 5.256-.008L10.484 9.4a5.209 5.209 0 0 1-.017.016 1.625 1.625 0 0 0-2.29.009l-1.854 1.854a1.626 1.626 0 0 0 2.244 2.35zm2.766-7.358a3.722 3.722 0 0 0-2.41-.558l.873-.873a3.722 3.722 0 1 1 5.264 5.266l-1.854 1.854a3.722 3.722 0 0 1-5.256.008L9.416 10.5a5.2 5.2 0 0 1 .017-.016 1.625 1.625 0 0 0 2.29-.009l1.854-1.854a1.626 1.626 0 0 0-2.244-2.35z' fill='rgba(0, 0, 0, 0.6)' transform='translate(-3.667 -2.7)'/%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    background-position: 15px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  .link-tool__input-holder {\n      position: relative;\n    }\n\n  .link-tool__input-holder--error .link-tool__input {\n          background-image: url(\"data:image/svg+xml,%3Csvg width='13' height='14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.567 13.629c.728.464 1.581.65 2.41.558l-.873.873A3.722 3.722 0 1 1 4.84 9.794L6.694 7.94a3.722 3.722 0 0 1 5.256-.008L10.484 9.4a5.209 5.209 0 0 1-.017.016 1.625 1.625 0 0 0-2.29.009l-1.854 1.854a1.626 1.626 0 0 0 2.244 2.35zm2.766-7.358a3.722 3.722 0 0 0-2.41-.558l.873-.873a3.722 3.722 0 1 1 5.264 5.266l-1.854 1.854a3.722 3.722 0 0 1-5.256.008L9.416 10.5a5.2 5.2 0 0 1 .017-.016 1.625 1.625 0 0 0 2.29-.009l1.854-1.854a1.626 1.626 0 0 0-2.244-2.35z' fill='rgb(224, 147, 147)' transform='translate(-3.667 -2.7)'/%3E%3C/svg%3E%0A\");\n          background-color: #fff3f6;\n          border-color: #f3e0e0;\n          color: #a95a5a;\n          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);\n        }\n\n  .link-tool__input[contentEditable=true][data-placeholder]::before{\n      position: absolute;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      opacity: 0;\n    }\n\n  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {\n        opacity: 1;\n      }\n\n  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {\n         opacity: 0;\n       }\n\n  .link-tool__progress {\n    position: absolute;\n    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);\n    height: 100%;\n    width: 0;\n    background-color: #f4f5f7;\n    z-index: -1;\n  }\n\n  .link-tool__progress--loading {\n      -webkit-animation: progress 500ms ease-in;\n      -webkit-animation-fill-mode: forwards;\n    }\n\n  .link-tool__progress--loaded {\n      width: 100%;\n    }\n\n@keyframes link-in {\n  from {\n    filter: blur(5px);\n  }\n\n  to {\n    filter: none;\n  }\n}\n\n.codex-editor--narrow .link-tool__image {\n  display: none;\n}\n\n.newline {\n  white-space: pre-line;\n}\n.c-itemCard {\n}\n.c-itemCard__item {\n  width: 100%;\n  border-radius: 4px;\n  background: #f9f9f9;\n  overflow: hidden;\n}\n.c-itemCard__item a {\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  position: relative;\ntext-decoration: none;color: inherit;}\n.c-itemCard__item__pic {\n  width: 300px;\n  height: 200px;\n  flex-shrink: 0;\n}\n.c-itemCard__item__pic img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.c-itemCard__item__body {\n  width: 95%;\n  padding: 0 32px 0 16px;\n}\n.c-itemCard__item__body__ttl {\n  font-size: 16px;\n  font-weight: 700;\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n.c-itemCard__item__body__desc {\n  font-size: 14px;\n  color: #888;\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  margin-top: 8px;\n}\n.c-itemCard__item__body__info {\n  width: 100%;\n  margin-top: 16px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.c-itemCard__item__body__info__week {\n  font-size: 14px;\n}\n.c-itemCard__item__body__info__price {\n  font-size: 20px;\n  font-weight: 700;\n  margin-left: auto;\n}\n.c-itemCard__item__arrow {\n  width: 12px;\n  height: 12px;\n  display: block;\n  position: absolute;\n  top: calc(50% - 7px);\n  right: 16px;\n  border-top-width: 3px;\n  border-right-width: 3px;\n  border-top-style: solid;\n  border-right-style: solid;\n  transform: rotate(45deg);\n}\n\n.c-review__list {\n  padding-bottom: 1px;\n}\n.c-review__list__comment {\n  padding: 16px;\n}\n.c-review__list__comment__item {\n  width: 100%;\n  background: #f9f9f9;\n  border-radius: 4px;\n  padding: 16px;\n}\n.c-review__list__comment__item__top {\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.c-review__list__comment__item__top__review {\n  display: flex;\n  align-items: center;\n}\n.c-review__list__comment__item__top__review__stars {\n  display: flex;\n}\n.c-review__list__comment__item__top__review__stars img {\n  width: 16px;\n  height: 16px;\n}\n.c-review__list__comment__item__top__review__num {\n  font-size: 14px;\n  font-weight: bold;\n  margin-left: 8px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.c-review__list__comment__item__top__info {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-left: auto;\n}\n.c-review__list__comment__item__top__info__date {\n  font-size: 14px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.c-review__list__comment__item__top__info__type {\n  min-width: 80px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: #0094CC;\n  border: 1px solid #0094CC;\n  border-radius: 4px;\n  padding: 2px 4px;\n  margin-left: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.c-review__list__comment__item__ttl {\n  font-size: 20px;\n  font-weight: bold;\n  border-bottom: 1px solid #ddd;\n  padding: 4px 0 16px 0;\n  margin-bottom: 16px;\n  margin-top: 0;\n}\n.c-review__list__comment__item__message,\n.c-review__list__comment__item__reply__message {\n  width: 100%;\n  font-size: 14px;\n  margin-top:0;\n}\n.c-review__list__comment__item__message.is-close,\n.c-review__list__comment__item__reply__message.is-close {\n  margin-top:0;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n}\n.c-review__list__comment__item__more,\n.c-review__list__comment__item__reply__more {\n  width: 100%;\n  display: flex;\n}\n.c-review__list__comment__item__more a,\n.c-review__list__comment__item__reply__more a {\n  font-size: 14px;\n  font-weight: bold;\n  text-align: right;\n  color: #0094CC;\n  text-decoration: underline;\n  margin-left: auto;\n}\n.c-review__list__comment__item__pic {\n  width: 100%;\n  margin-top: 16px;\n  display: flex;\n  position: relative;\n  transform: translate3d(0px, 0, 0);\n}\n.c-review__list__comment__item__pic__list {\n  width: 100%;\n  display: flex;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  overflow-x: hidden;\n}\n.c-review__list__comment__item__pic__list li {\n  width: 160px;\n  height: 160px;\n  margin-right: 16px;\n  flex-shrink: 0;\n  position: relative;\n  cursor: pointer;\n  list-style: none;\n}\n.c-review__list__comment__item__pic__list img {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  object-fit: cover;\n}\n.c-review__list__comment__item__pic__prev,\n.c-review__list__comment__item__pic__next {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  top: calc(50% - 16px);\n  z-index: 1;\n  background: #fff;\n  box-shadow: 0 4px 8px rgba(60, 64, 67, 0.1);\n  border-radius: 100%;\n}\n.c-review__list__comment__item__pic__prev::after,\n.c-review__list__comment__item__pic__next::after {\n  content: \"\";\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-left: 2px solid #0094CC;\n  border-bottom: 2px solid #0094CC;\n  transform: rotate(45deg);\n  position: absolute;\n  top: calc(50% - 5px);\n  left: 13px;\n}\n.c-review__list__comment__item__pic__prev { left: -16px; }\n.c-review__list__comment__item__pic__next { transform: scale(-1, 1); right: -16px; }\n.c-review__list__comment__item__user {\n  margin-top: 16px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.c-review__list__comment__item__user__ic {\n  width: 32px;\n  height: 32px;\n  border-radius: 100%;\n  background: #ddd;\n  font-size: 14px;\n  font-weight: bold;\n  color: #0094CC;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  margin-right: 8px !important;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.c-review__list__comment__item__user__info {\n  margin: 0;\n}\n.c-review__list__comment__item__user__info__name {\n  font-size: 14px;\n  line-height: 1;\n  margin-bottom: 4px !important;\n  margin-top: 0;\n}\n.c-review__list__comment__item__user__info__date {\n  font-size: 12px;\n  line-height: 1;\n  color: #888;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n.c-review__list__comment__item__reply {\n  width: 100%;\n  border-top: 1px solid #ddd;\n  margin-top: 16px;\n  padding-top: 16px;\n}\n.c-review__list__comment__item__reply__box {\n  width: 100%;\n  background: #fff;\n  border-radius: 4px;\n  padding: 16px;\n}\n.c-review__list__comment__item__reply__ttl {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 8px;\n  margin-top: 0;\n}\n.c-reviewPicture__modal {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.c-reviewPicture__modal__modal__content {\n  position: relative;\n}\n.c-reviewPicture__modal__modal__content__pic img {\n  max-height: 480px;\n  object-fit: contain;\n}\n.c-reviewPicture__modal__modal__content__close {\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.5);\n  display: block;\n  position: absolute;\n  top: 0;\n  right: -40px;\n}\n.c-reviewPicture__modal__modal__content__close::before,\n.c-reviewPicture__modal__modal__content__close::after {\n  content: '';\n  width: 16px;\n  height: 2px;\n  background: #fff;\n  position: absolute;\n  top: calc(50% - 1px);\n  left: calc(50% - 8px);\n}\n.c-reviewPicture__modal__modal__content__close::before {\n  transform: rotate(45deg);\n}\n.c-reviewPicture__modal__modal__content__close::after {\n  transform: rotate(-45deg);\n}\n@media screen and (max-width:600px) {\n  .c-itemCard__item a { display: block; }\n  .c-itemCard__item__pic { width: 100%; height: 230px; }\n  .c-itemCard__item__body__ttl { font-size: 16px; }\n  .c-itemCard__item__body { padding: 16px; }\n  .c-itemCard__item__arrow { display: none; };\n  .c-reviewPicture__modal__modal__content {\n    padding: 16px;\n  }\n  .c-reviewPicture__modal__modal__content__pic img {\n    width: 100%;\n  }\n  .c-reviewPicture__modal__modal__content__close {\n    top: -24px;\n    right: 16px;\n  }\n}\n@-webkit-keyframes progress {\n  0% {\n    width: 0;\n  }\n  100% {\n    width: 85%;\n  }\n}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=(s=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([r]).join("\n")}var s,a,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&r[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){(function(e){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),i=function(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(i[Symbol.iterator]=function(){return i}),i},n=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},r=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(e){return!1}})()||function(){var r=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof r){var i=this;e.forEach((function(e,t){i.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++){var o=e[n];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+n+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var s in e)e.hasOwnProperty(s)&&this.append(s,e[s])}},o=r.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var i;for(var n in this._entries)if(this._entries.hasOwnProperty(n)){i=this._entries[n];for(var r=0;r<i.length;r++)e.call(t,i[r],n,this)}},o.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),i(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),i(e)},o.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),i(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,i){e.push(n(i)+"="+n(t))})),e.join("&")},e.URLSearchParams=r}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach((function(i,n){t.push([n,i]),e._entries||e.delete(n)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var i=0;i<t.length;i++)this.append(t[i][0],t[i][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,i){t.push(i)}));for(var i=0;i<t.length;i++)this.delete(t[i])}var n,o=(e=e.replace(/^\?/,"")).split("&");for(i=0;i<o.length;i++)n=o[i].split("="),this.append(r(n[0]),n.length>1?r(n[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,i=function(t,i){"string"!=typeof t&&(t=String(t));var n,r=document;if(i&&(void 0===e.location||i!==e.location.href)){(n=(r=document.implementation.createHTMLDocument("")).createElement("base")).href=i,r.head.appendChild(n);try{if(0!==n.href.indexOf(i))throw new Error(n.href)}catch(e){throw new Error("URL unable to set base "+i+" due to "+e)}}var o=r.createElement("a");o.href=t,n&&(r.body.appendChild(o),o.href=o.href);var s=r.createElement("input");if(s.type="url",s.value=t,":"===o.protocol||!/:/.test(o.href)||!s.checkValidity()&&!i)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var a=new e.URLSearchParams(this.search),l=!0,c=!0,d=this;["append","delete","set"].forEach((function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),l&&(c=!1,d.search=a.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var h=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==h&&(h=this.search,c&&(l=!1,this.searchParams._fromString(this.search),l=!0))}})},n=i.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(n,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(n,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(n,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),i.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},i.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=i}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(i){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,i(13))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i}]).default}));